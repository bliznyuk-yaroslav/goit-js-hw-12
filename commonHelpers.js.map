{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default function createMarkup(images){\n    return images\n    .map(\n        ({\n            webformatURL,\n            largeImageURL,\n            tags,\n            likes,\n            views,\n            comments,\n            downloads,\n        }) => {\n            return  `<li class=\"photo-main-list\">\n          \n            <a class=\"galery-link\"  href=\"${largeImageURL}\">\n            <img class=\"photo\" width=\"360\" height=\"200\" src=\"${webformatURL}\" alt=\"${tags}\" />\n            </a>\n            \n              <ul class='list-menu'>\n                <li class='description'>\n                  <h3 class='title'>Likes</h3>\n                  <p class='datas'>${likes}</p>\n                </li>\n                <li class='description'>\n                  <h3 class='title'>Views</h3>\n                  <p class='datas'>${views}</p>\n                </li>\n                <li class='description'>\n                  <h3 class='title'>Comments</h3>\n                  <p class='datas'>${comments}</p>\n                </li>\n                <li class='description'>\n                  <h3 class='title'>Downloads</h3>\n                  <p class='datas'>${downloads}</p>\n                </li>\n              </ul>\n            </li>`;\n        }\n    )\n    .join('');\n}","\nexport default function getImages(inputValue){\n    const QUERY = inputValue.trim();\n    const LINK = `${BASE_URI}?key=${KEY}&q=${QUERY}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SAFESEARCH} `;\nreturn fetch(LINK)\n    .then(res =>{\n    if(!res.ok){\n        throw new Error(res.status);\n    }\n    return res.json();\n})\n\n} \nconst KEY = '42673645-b4144b7e03e5200cdf63068f8';\nconst BASE_URI = 'https://pixabay.com/api/';\nconst IMAGE_TYPE = 'photo';\nconst ORIENTATION = 'horizontal'\nconst SAFESEARCH = 'true';","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport createMarkup from './js/render-functions';\nimport getImages from \"./js/pixabay-api\";\n\nconst list = document.querySelector('.todo-list');\nconst searchInput = document.querySelector('.input-text');\nconst loadMoreBtn = document.querySelector('[data-action=\"load-more\"]');\n\nconst form = document.querySelector('.main-form');\n\nconst load = document.querySelector('.loader');\nconst lightbox = new SimpleLightbox('.todo-list a.galery-link',{\n    captionsData: 'alt',\n    captionDelay: 500,\n});\nload.style.display = 'none';\nlet current_page = 0;\n\nfunction handler(event){\n    event.preventDefault();\n    list.style.marginTop = '60px';\n    load.style.display = 'inline-block';\n    const query = event.target.elements.query.value.trim();\n    if (!query){\n        return;\n      }\n    getImages(searchInput.value)\n    .then(data => {\n        const images = data.hits.slice(current_page, current_page + 15);\n        if(images.length === 0){\n            list.innerHTML='';\n            return handlerError();\n        }else{\n            list.innerHTML += createMarkup(images);\n            lightbox.refresh();\n            loadedImagesCount += 15;\n        }\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n        load.style.display = 'none';\n        list.style.marginTop = '20px';\n    });\n    searchInput.value = '';\n}\nform.addEventListener('submit', handler);\n\nfunction handlerError(){\n    iziToast.error({\n        maxWidth: '432px',\n        messageSize: '16px',\n        titleColor: ' #fafafb',\n        messageColor: '#fff',\n        message: `Sorry, there are no images matching your search query. Please try again!`,\n        closeOnEscape: true,\n        position: 'topRight',\n        backgroundColor: '#ed6f7c',\n    });\n}\nloadMoreBtn.addEventListener('click', event =>{\nhandler(event);\n})"],"names":["createMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","getImages","inputValue","QUERY","LINK","BASE_URI","KEY","IMAGE_TYPE","ORIENTATION","SAFESEARCH","res","list","searchInput","loadMoreBtn","form","load","lightbox","SimpleLightbox","current_page","handler","event","data","handlerError","error","iziToast"],"mappings":"6vBAAe,SAASA,EAAaC,EAAO,CACxC,OAAOA,EACN,IACG,CAAC,CACG,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACZ,IACoB;AAAA;AAAA,4CAEwBL,CAAa;AAAA,+DACMD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAMpDC,CAAK;AAAA;AAAA;AAAA;AAAA,qCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qCAIRC,CAAS;AAAA;AAAA;AAAA,kBAKzC,EACA,KAAK,EAAE,CACZ,CCvCe,SAASC,EAAUC,EAAW,CACzC,MAAMC,EAAQD,EAAW,OACnBE,EAAO,GAAGC,CAAQ,QAAQC,CAAG,MAAMH,CAAK,eAAeI,CAAU,gBAAgBC,CAAW,eAAeC,CAAU,IAC/H,OAAO,MAAML,CAAI,EACZ,KAAKM,GAAM,CACZ,GAAG,CAACA,EAAI,GACJ,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,OAAOA,EAAI,MACf,CAAC,CAED,CACA,MAAMJ,EAAM,qCACND,EAAW,2BACXE,EAAa,QACbC,EAAc,aACdC,EAAa,OCPbE,EAAO,SAAS,cAAc,YAAY,EAC1CC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAc,SAAS,cAAc,2BAA2B,EAEhEC,EAAO,SAAS,cAAc,YAAY,EAE1CC,EAAO,SAAS,cAAc,SAAS,EACvCC,EAAW,IAAIC,EAAe,2BAA2B,CAC3D,aAAc,MACd,aAAc,GAClB,CAAC,EACDF,EAAK,MAAM,QAAU,OACrB,IAAIG,EAAe,EAEnB,SAASC,EAAQC,EAAM,CACnBA,EAAM,eAAc,EACpBT,EAAK,MAAM,UAAY,OACvBI,EAAK,MAAM,QAAU,eACPK,EAAM,OAAO,SAAS,MAAM,MAAM,SAIhDnB,EAAUW,EAAY,KAAK,EAC1B,KAAKS,GAAQ,CACV,MAAM5B,EAAS4B,EAAK,KAAK,MAAMH,EAAcA,EAAe,EAAE,EAC9D,GAAGzB,EAAO,SAAW,EACjB,OAAAkB,EAAK,UAAU,GACRW,EAAY,EAEnBX,EAAK,WAAanB,EAAaC,CAAM,EACrCuB,EAAS,QAAO,EAChB,mBAAqB,EAEjC,CAAK,EACA,MAAMO,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACXR,EAAK,MAAM,QAAU,OACrBJ,EAAK,MAAM,UAAY,MAC/B,CAAK,EACDC,EAAY,MAAQ,GACxB,CACAE,EAAK,iBAAiB,SAAUK,CAAO,EAEvC,SAASG,GAAc,CACnBE,EAAS,MAAM,CACX,SAAU,QACV,YAAa,OACb,WAAY,WACZ,aAAc,OACd,QAAS,2EACT,cAAe,GACf,SAAU,WACV,gBAAiB,SACzB,CAAK,CACL,CACAX,EAAY,iBAAiB,QAASO,GAAQ,CAC9CD,EAAQC,CAAK,CACb,CAAC"}